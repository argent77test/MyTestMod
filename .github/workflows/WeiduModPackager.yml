name: 'WeiDU Mod Package Builder (iemod; win/lin/mac: amd64; use tp2 VERSION suffix)'

on:
  release:
    types: [published]
  workflow_dispatch:

jobs:
  call_workflow:
    strategy:
      matrix:
        type: [iemod, windows, linux, macos]

    permissions:
      contents: write

    uses: argent77test/TestActionGlobal/.github/workflows/TestActionGlobal.yml@master
    with:
      type: ${{ matrix.type }}
      architecture: x86
      suffix: latest
      extra: special
      naming: ini
      weidu_version: 247
      prefix_windows: w32
      prefix_linux: lnx
      prefix_macos: mac
